[ 40%] Built target qr_test_publisher
Consolidate compiler generated dependencies of target lidar_odometry_node
[ 60%] Building CXX object CMakeFiles/lidar_odometry_node.dir/src/lidar_odometry_node.cpp.o
[ 80%] Building CXX object CMakeFiles/lidar_odometry_node.dir/src/lidar_odometry.cpp.o
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp: In member function ‘void LidarOdometry::process_scan_data(ScanDataPtr)’:
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:144:41: error: ‘target_corrected’ was not declared in this scope
  144 |                         create_keyframe(target_corrected, state_ptr->pose, scan_ptr->timestamp);
      |                                         ^~~~~~~~~~~~~~~~
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:147:46: warning: comparison of integer expressions of different signedness: ‘std::vector<LidarOdometry::Keyframe>::size_type’ {aka ‘long unsigned int’} and ‘int’ [-Wsign-compare]
  147 |                         if (keyframes.size() > min_keyframes_between_loops) {
      |                             ~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp: In member function ‘std::vector<int, std::allocator<int> > LidarOdometry::detect_loop_closure_candidates(const std::vector<float>&)’:
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:932:26: warning: comparison of integer expressions of different signedness: ‘std::vector<LidarOdometry::Keyframe>::size_type’ {aka ‘long unsigned int’} and ‘int’ [-Wsign-compare]
  932 |     if (keyframes.size() < min_keyframes_between_loops) {
      |         ~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp: In member function ‘void LidarOdometry::optimize_pose_graph()’:
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1071:30: error: ‘Vector6d’ is not a member of ‘Eigen’; did you mean ‘VectorXd’?
 1071 |         std::map<int, Eigen::Vector6d> delta_poses;
      |                              ^~~~~~~~
      |                              VectorXd
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1071:38: error: template argument 2 is invalid
 1071 |         std::map<int, Eigen::Vector6d> delta_poses;
      |                                      ^
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1071:38: error: template argument 4 is invalid
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1076:28: error: invalid types ‘int[std::tuple_element<0, std::pair<const int, LidarOdometry::PoseNode> >::type {aka const int}]’ for array subscript
 1076 |                 delta_poses[id] = Eigen::Vector6d::Zero();
      |                            ^
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1076:42: error: ‘Eigen::Vector6d’ has not been declared
 1076 |                 delta_poses[id] = Eigen::Vector6d::Zero();
      |                                          ^~~~~~~~
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1102:20: error: ‘Vector6d’ is not a member of ‘Eigen’; did you mean ‘VectorXd’?
 1102 |             Eigen::Vector6d error;
      |                    ^~~~~~~~
      |                    VectorXd
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1103:13: error: ‘error’ was not declared in this scope; did you mean ‘perror’?
 1103 |             error.head<3>() = translation_error;
      |             ^~~~~
      |             perror
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1103:27: error: expected primary-expression before ‘)’ token
 1103 |             error.head<3>() = translation_error;
      |                           ^
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1104:27: error: expected primary-expression before ‘)’ token
 1104 |             error.tail<3>() = rotation_error_vec;
      |                           ^
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1112:52: error: request for member ‘find’ in ‘delta_poses’, which is of non-class type ‘int’
 1112 |             if (!from_node.is_fixed && delta_poses.find(edge.from_id) != delta_poses.end()) {
      |                                                    ^~~~
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1112:86: error: request for member ‘end’ in ‘delta_poses’, which is of non-class type ‘int’
 1112 |             if (!from_node.is_fixed && delta_poses.find(edge.from_id) != delta_poses.end()) {
      |                                                                                      ^~~
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1113:28: error: invalid types ‘int[const int]’ for array subscript
 1113 |                 delta_poses[edge.from_id] -= learning_rate * error;
      |                            ^
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1115:50: error: request for member ‘find’ in ‘delta_poses’, which is of non-class type ‘int’
 1115 |             if (!to_node.is_fixed && delta_poses.find(edge.to_id) != delta_poses.end()) {
      |                                                  ^~~~
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1115:82: error: request for member ‘end’ in ‘delta_poses’, which is of non-class type ‘int’
 1115 |             if (!to_node.is_fixed && delta_poses.find(edge.to_id) != delta_poses.end()) {
      |                                                                                  ^~~
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1116:28: error: invalid types ‘int[const int]’ for array subscript
 1116 |                 delta_poses[edge.to_id] += learning_rate * error;
      |                            ^
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1121:34: error: ‘begin’ was not declared in this scope
 1121 |         for (auto& [id, delta] : delta_poses) {
      |                                  ^~~~~~~~~~~
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1121:34: note: suggested alternatives:
In file included from /usr/include/c++/11/string:54,
                 from /usr/include/c++/11/bits/locale_classes.h:40,
                 from /usr/include/c++/11/bits/ios_base.h:41,
                 from /usr/include/c++/11/ios:42,
                 from /usr/include/c++/11/istream:38,
                 from /usr/include/c++/11/sstream:38,
                 from /usr/include/c++/11/complex:45,
                 from /usr/include/eigen3/Eigen/Core:50,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/include/lidar_odometry/lidar_odometry.hpp:4,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:2:
/usr/include/c++/11/bits/range_access.h:108:37: note:   ‘std::begin’
  108 |   template<typename _Tp> const _Tp* begin(const valarray<_Tp>&) noexcept;
      |                                     ^~~~~
In file included from /usr/include/boost/mpl/vector/aux_/begin_end.hpp:21,
                 from /usr/include/boost/mpl/vector/vector0.hpp:31,
                 from /usr/include/boost/mpl/vector/vector10.hpp:18,
                 from /usr/include/boost/mpl/vector/vector20.hpp:18,
                 from /usr/include/boost/mpl/vector.hpp:36,
                 from /usr/include/pcl-1.12/pcl/point_struct_traits.h:43,
                 from /usr/include/pcl-1.12/pcl/type_traits.h:40,
                 from /usr/include/pcl-1.12/pcl/memory.h:46,
                 from /usr/include/pcl-1.12/pcl/PCLHeader.h:3,
                 from /usr/include/pcl-1.12/pcl/point_cloud.h:47,
                 from /usr/include/pcl-1.12/pcl/common/io.h:46,
                 from /usr/include/pcl-1.12/pcl/registration/correspondence_estimation.h:43,
                 from /usr/include/pcl-1.12/pcl/registration/icp.h:44,
                 from /usr/include/pcl-1.12/pcl/registration/gicp.h:44,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/include/lidar_odometry/lidar_odometry.hpp:6,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:2:
/usr/include/boost/mpl/begin_end_fwd.hpp:22:38: note:   ‘boost::mpl::begin’
   22 | template< typename Sequence > struct begin;
      |                                      ^~~~~
In file included from /usr/include/boost/foreach.hpp:81,
                 from /usr/include/pcl-1.12/pcl/conversions.h:54,
                 from /usr/include/pcl-1.12/pcl/common/impl/io.hpp:43,
                 from /usr/include/pcl-1.12/pcl/common/io.h:538,
                 from /usr/include/pcl-1.12/pcl/registration/correspondence_estimation.h:43,
                 from /usr/include/pcl-1.12/pcl/registration/icp.h:44,
                 from /usr/include/pcl-1.12/pcl/registration/gicp.h:44,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/include/lidar_odometry/lidar_odometry.hpp:6,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:2:
/usr/include/boost/range/begin.hpp:110:61: note:   ‘boost::range_adl_barrier::begin’
  110 | inline BOOST_DEDUCED_TYPENAME range_iterator<const T>::type begin( const T& r )
      |                                                             ^~~~~
In file included from /usr/include/pcl-1.12/pcl/conversions.h:54,
                 from /usr/include/pcl-1.12/pcl/common/impl/io.hpp:43,
                 from /usr/include/pcl-1.12/pcl/common/io.h:538,
                 from /usr/include/pcl-1.12/pcl/registration/correspondence_estimation.h:43,
                 from /usr/include/pcl-1.12/pcl/registration/icp.h:44,
                 from /usr/include/pcl-1.12/pcl/registration/gicp.h:44,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/include/lidar_odometry/lidar_odometry.hpp:6,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:2:
/usr/include/boost/foreach.hpp:696:1: note:   ‘boost::foreach_detail_::begin’
  696 | begin(auto_any_t col, type2type<T *, C> *, boost::mpl::true_ *) // null-terminated C-style strings
      | ^~~~~
In file included from /usr/include/boost/fusion/iterator/segmented_iterator.hpp:13,
                 from /usr/include/boost/fusion/sequence/intrinsic/detail/segmented_end.hpp:12,
                 from /usr/include/boost/fusion/sequence/intrinsic/end.hpp:18,
                 from /usr/include/boost/fusion/mpl/back.hpp:12,
                 from /usr/include/boost/fusion/mpl.hpp:15,
                 from /usr/include/boost/fusion/include/mpl.hpp:12,
                 from /usr/include/pcl-1.12/pcl/common/impl/accumulators.hpp:44,
                 from /usr/include/pcl-1.12/pcl/common/centroid.h:955,
                 from /usr/include/pcl-1.12/pcl/common/transforms.h:44,
                 from /usr/include/pcl-1.12/pcl/registration/transformation_estimation.h:43,
                 from /usr/include/pcl-1.12/pcl/registration/registration.h:46,
                 from /usr/include/pcl-1.12/pcl/registration/icp.h:46,
                 from /usr/include/pcl-1.12/pcl/registration/gicp.h:44,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/include/lidar_odometry/lidar_odometry.hpp:6,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:2:
/usr/include/boost/fusion/sequence/intrinsic/begin.hpp:92:5: note:   ‘boost::fusion::begin’
   92 |     begin(Sequence const& seq)
      |     ^~~~~
In file included from /usr/include/boost/fusion/sequence/intrinsic/value_at.hpp:16,
                 from /usr/include/boost/fusion/mpl/at.hpp:12,
                 from /usr/include/boost/fusion/mpl.hpp:14,
                 from /usr/include/boost/fusion/include/mpl.hpp:12,
                 from /usr/include/pcl-1.12/pcl/common/impl/accumulators.hpp:44,
                 from /usr/include/pcl-1.12/pcl/common/centroid.h:955,
                 from /usr/include/pcl-1.12/pcl/common/transforms.h:44,
                 from /usr/include/pcl-1.12/pcl/registration/transformation_estimation.h:43,
                 from /usr/include/pcl-1.12/pcl/registration/registration.h:46,
                 from /usr/include/pcl-1.12/pcl/registration/icp.h:46,
                 from /usr/include/pcl-1.12/pcl/registration/gicp.h:44,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/include/lidar_odometry/lidar_odometry.hpp:6,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:2:
/usr/include/boost/fusion/sequence/intrinsic_fwd.hpp:62:16: note:   ‘boost::fusion::result_of::begin’
   62 |         struct begin;
      |                ^~~~~
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1121:34: error: ‘end’ was not declared in this scope
 1121 |         for (auto& [id, delta] : delta_poses) {
      |                                  ^~~~~~~~~~~
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1121:34: note: suggested alternatives:
In file included from /usr/include/c++/11/string:54,
                 from /usr/include/c++/11/bits/locale_classes.h:40,
                 from /usr/include/c++/11/bits/ios_base.h:41,
                 from /usr/include/c++/11/ios:42,
                 from /usr/include/c++/11/istream:38,
                 from /usr/include/c++/11/sstream:38,
                 from /usr/include/c++/11/complex:45,
                 from /usr/include/eigen3/Eigen/Core:50,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/include/lidar_odometry/lidar_odometry.hpp:4,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:2:
/usr/include/c++/11/bits/range_access.h:110:37: note:   ‘std::end’
  110 |   template<typename _Tp> const _Tp* end(const valarray<_Tp>&) noexcept;
      |                                     ^~~
In file included from /usr/include/eigen3/Eigen/Core:265,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/include/lidar_odometry/lidar_odometry.hpp:4,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:2:
/usr/include/eigen3/Eigen/src/Core/util/IndexedViewHelper.h:181:40: note:   ‘Eigen::placeholders::end’
  181 |   EIGEN_DEPRECATED static const end_t  end  = Eigen::lastp1; // PLEASE use Eigen::lastp1 instead of Eigen::placeholders::end
      |                                        ^~~
In file included from /usr/include/boost/mpl/vector/aux_/begin_end.hpp:21,
                 from /usr/include/boost/mpl/vector/vector0.hpp:31,
                 from /usr/include/boost/mpl/vector/vector10.hpp:18,
                 from /usr/include/boost/mpl/vector/vector20.hpp:18,
                 from /usr/include/boost/mpl/vector.hpp:36,
                 from /usr/include/pcl-1.12/pcl/point_struct_traits.h:43,
                 from /usr/include/pcl-1.12/pcl/type_traits.h:40,
                 from /usr/include/pcl-1.12/pcl/memory.h:46,
                 from /usr/include/pcl-1.12/pcl/PCLHeader.h:3,
                 from /usr/include/pcl-1.12/pcl/point_cloud.h:47,
                 from /usr/include/pcl-1.12/pcl/common/io.h:46,
                 from /usr/include/pcl-1.12/pcl/registration/correspondence_estimation.h:43,
                 from /usr/include/pcl-1.12/pcl/registration/icp.h:44,
                 from /usr/include/pcl-1.12/pcl/registration/gicp.h:44,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/include/lidar_odometry/lidar_odometry.hpp:6,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:2:
/usr/include/boost/mpl/begin_end_fwd.hpp:23:38: note:   ‘boost::mpl::end’
   23 | template< typename Sequence > struct end;
      |                                      ^~~
In file included from /usr/include/boost/foreach.hpp:80,
                 from /usr/include/pcl-1.12/pcl/conversions.h:54,
                 from /usr/include/pcl-1.12/pcl/common/impl/io.hpp:43,
                 from /usr/include/pcl-1.12/pcl/common/io.h:538,
                 from /usr/include/pcl-1.12/pcl/registration/correspondence_estimation.h:43,
                 from /usr/include/pcl-1.12/pcl/registration/icp.h:44,
                 from /usr/include/pcl-1.12/pcl/registration/gicp.h:44,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/include/lidar_odometry/lidar_odometry.hpp:6,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:2:
/usr/include/boost/range/end.hpp:104:61: note:   ‘boost::range_adl_barrier::end’
  104 | inline BOOST_DEDUCED_TYPENAME range_iterator<const T>::type end( const T& r )
      |                                                             ^~~
In file included from /usr/include/pcl-1.12/pcl/conversions.h:54,
                 from /usr/include/pcl-1.12/pcl/common/impl/io.hpp:43,
                 from /usr/include/pcl-1.12/pcl/common/io.h:538,
                 from /usr/include/pcl-1.12/pcl/registration/correspondence_estimation.h:43,
                 from /usr/include/pcl-1.12/pcl/registration/icp.h:44,
                 from /usr/include/pcl-1.12/pcl/registration/gicp.h:44,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/include/lidar_odometry/lidar_odometry.hpp:6,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:2:
/usr/include/boost/foreach.hpp:736:1: note:   ‘boost::foreach_detail_::end’
  736 | end(auto_any_t, type2type<T *, C> *, boost::mpl::true_ *) // null-terminated C-style strings
      | ^~~
In file included from /usr/include/boost/fusion/mpl/back.hpp:12,
                 from /usr/include/boost/fusion/mpl.hpp:15,
                 from /usr/include/boost/fusion/include/mpl.hpp:12,
                 from /usr/include/pcl-1.12/pcl/common/impl/accumulators.hpp:44,
                 from /usr/include/pcl-1.12/pcl/common/centroid.h:955,
                 from /usr/include/pcl-1.12/pcl/common/transforms.h:44,
                 from /usr/include/pcl-1.12/pcl/registration/transformation_estimation.h:43,
                 from /usr/include/pcl-1.12/pcl/registration/registration.h:46,
                 from /usr/include/pcl-1.12/pcl/registration/icp.h:46,
                 from /usr/include/pcl-1.12/pcl/registration/gicp.h:44,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/include/lidar_odometry/lidar_odometry.hpp:6,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:2:
/usr/include/boost/fusion/sequence/intrinsic/end.hpp:92:5: note:   ‘boost::fusion::end’
   92 |     end(Sequence const& seq)
      |     ^~~
In file included from /usr/include/boost/fusion/sequence/intrinsic/value_at.hpp:16,
                 from /usr/include/boost/fusion/mpl/at.hpp:12,
                 from /usr/include/boost/fusion/mpl.hpp:14,
                 from /usr/include/boost/fusion/include/mpl.hpp:12,
                 from /usr/include/pcl-1.12/pcl/common/impl/accumulators.hpp:44,
                 from /usr/include/pcl-1.12/pcl/common/centroid.h:955,
                 from /usr/include/pcl-1.12/pcl/common/transforms.h:44,
                 from /usr/include/pcl-1.12/pcl/registration/transformation_estimation.h:43,
                 from /usr/include/pcl-1.12/pcl/registration/registration.h:46,
                 from /usr/include/pcl-1.12/pcl/registration/icp.h:46,
                 from /usr/include/pcl-1.12/pcl/registration/gicp.h:44,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/include/lidar_odometry/lidar_odometry.hpp:6,
                 from /home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:2:
/usr/include/boost/fusion/sequence/intrinsic_fwd.hpp:68:16: note:   ‘boost::fusion::result_of::end’
   68 |         struct end;
      |                ^~~
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1126:58: error: expected primary-expression before ‘)’ token
 1126 |                 node.pose.translation() += delta.head<3>();
      |                                                          ^
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1129:64: error: expected primary-expression before ‘)’ token
 1129 |                 Eigen::Vector3d rotation_delta = delta.tail<3>();
      |                                                                ^
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp: In member function ‘Eigen::Matrix<double, 6, 6> LidarOdometry::compute_information_matrix(const Matrix4d&, bool)’:
/home/por/ros2_ws/src/Simple-2D-LiDAR-Odometry/src/lidar_odometry.cpp:1144:94: warning: unused parameter ‘transform’ [-Wunused-parameter]
 1144 | Eigen::Matrix<double, 6, 6> LidarOdometry::compute_information_matrix(const Eigen::Matrix4d& transform, bool is_loop_closure)
      |                                                                       ~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~
gmake[2]: *** [CMakeFiles/lidar_odometry_node.dir/build.make:90: CMakeFiles/lidar_odometry_node.dir/src/lidar_odometry.cpp.o] Error 1
gmake[1]: *** [CMakeFiles/Makefile2:139: CMakeFiles/lidar_odometry_node.dir/all] Error 2
gmake: *** [Makefile:146: all] Error 2
